<!DOCTYPE html>
<html>

<!--Mbeginning of lex chat-->
<head>
	<script src="https://sdk.amazonaws.com/js/aws-sdk-2.41.0.min.js"></script>
	<style language="text/css">
		#tray {
			position: fixed;
			bottom: 0;
			right: 0;
			width: 400px;
			border: 1px solid #ccc;
			background-color: #eee;
			overflow: hidden;
			transition: height 0.3s;
		}
	
		#conversation {
			height: 400px;
			border-bottom: 1px solid #ccc;
			padding: 4px;
			overflow: scroll;
		}
	
		#chatform {
			padding: 4px;
		}
	
		#toggleButton {
			cursor: pointer;
			background-color: #ddd;
			text-align: center;
			padding: 2px;
		}
	
		p.userRequest {
			margin: 4px;
			padding: 4px 10px 4px 10px;
			border-radius: 4px;
			min-width: 50%;
			max-width: 85%;
			float: left;
			background-color: #7d7;
			text-align: left;
		}
	
		p.lexResponse {
			margin: 4px;
			padding: 4px 10px 4px 10px;
			border-radius: 4px;
			min-width: 50%;
			max-width: 85%;
			float: right;
			background-color: #bbf;
			font-style: italic;
			text-align: right;
		}

		body {
		margin: 0;
		padding: 20px;
		font-family: Arial, sans-serif;
	  }
  
	  .header {
		display: flex;
		align-items: center;
		justify-content: space-between;
		background-color: #f2f2f2;
		padding: 0px;
		height: 20px;
	  }
  
	  .header img {
		height: 30px;
		width: auto;
		margin-left: 10px;
		margin-right: 10px;
	  }
  
	  .menu-container {
		display: flex;
	  }
  
	  .menu {
		background-color: #ccc;
		width: 200px;
		height: 100vh;
		padding: 10px;
		position: fixed;
		top: 60px;
		left: 0;
		display: flex;
		flex-direction: column;
	  }
  
	  .menu-option {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
  cursor: pointer;
}

.menu-option img {
  height: 20px;
  width: auto;
  margin-right: 10px;
}
  
	  .chat-container {
		margin-left: 220px;
		padding: 10px;
	  }
  
	  .chat-container h1 {
		margin-top: 0;
	  }
  
	  .chat-box {
		height: 400px;
		border: 1px solid #ccc;
		background-color: #eee;
		padding: 10px;
		overflow-y: scroll;
	  }
  
	  .user-request {
		margin: 4px;
		padding: 4px 10px 4px 10px;
		border-radius: 4px;
		min-width: 50%;
		max-width: 85%;
		float: right;
		background-color: #7d7;
	  }
  
	  .bot-response {
		margin: 4px;
		padding: 4px 10px 4px 10px;
		border-radius: 4px;
		min-width: 50%;
		max-width: 85%;
		float: left;
		background-color: #bbf;
		font-style: italic;
	  }
		.hidden {
		  display: none;
		}
	
		.header {
		  position: fixed;
		  top: 0;
		  left: 0;
		  right: 0;
		  background-color: #f1f1f1;
		  padding: 10px;
		  display: flex;
		  align-items: center;
		}
	
		.menu-container {
		  margin-top: 40px;
		  display: flex;
		  flex-direction: column;
		  width: 100px;
		  background-color: #f1f1f1;
		  padding: 20px;
		  position: fixed;
		  left: 0;
		  top: 60px;
		  bottom: 0;
		  overflow-y: auto;
		}
	
		.menu-option {
		  margin-bottom: 25px;
		  cursor: pointer;
		}
	
		.content {
		  margin-left: 210px;
		  margin-top: 30px;
		  padding: 20px;
		  background-color: #fff;
		}
		td {
        text-align: center;
        vertical-align: middle;
      }
	  #calendar {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  grid-gap: 5px;
  max-width: 500px;
  margin: 0 auto;
}

.day {
  border: 1px solid #ccc;
  padding: 10px;
}

.day:hover {
  background-color: #f2f2f2;
}

.day .date {
  font-weight: bold;
}

.day .event {
  margin-top: 5px;
  font-size: 12px;
}
#calendar-container {
  display: flex;
  justify-content: flex-start;
}
.credit-card-form {
  max-width: 400px;
  margin: 0 auto;
  padding: 20px;
  background-color: #f2f2f2;
  border-radius: 5px;
  font-family: Arial, sans-serif;
}

.form-group {
  margin-bottom: 15px;
}

label {
  display: block;
  font-weight: bold;
  margin-bottom: 5px;
}

input[type="text"] {
  width: 100%;
  padding: 8px;
  border: 1px solid #ccc;
  border-radius: 4px;
}

.submit-btn {
  background-color: #007bff;
  color: #fff;
  border: none;
  padding: 10px 20px;
  border-radius: 4px;
  cursor: pointer;
}

.shadowbox1 {
  width: 500px;
  height: 140px;
  padding: 15px;
  background-color: gainsboro;
  box-shadow: 3px 3px 3px black;
  border-radius: 5px;
}
.shadowbox2 {
  width: 180px;
  height: 140px;
  padding: 15px;
  background-color: gainsboro;
  box-shadow: 3px 3px 3px black;
  border-radius: 5px;
}
	</style>
	
</head>
<body>
	<div class="header">
		<img src="left-image.png" alt="Left Image">
		<h1>Payments Platform</h1>
		<img src="right-image.png" alt="Right Image">
	  </div>
	  <div class="menu-container">
		<div class="menu">
		  <div class="menu-option" onclick="switchContent(0)">
			<img src="icon-home.png" alt="Home Icon"><b>Home</b>
		  </div>
		  <div class="menu-option" onclick="switchContent(1)">
			<img src="icon-payment.png" alt="Payment Icon"><b>Take Payment</b>
		  </div>
		  <div class="menu-option" onclick="switchContent(2)">
			<img src="icon-activity.png" alt="Activity Icon"><b>Activity</b>
		  </div>
		  <div class="menu-option" onclick="switchContent(3)">
			<img src="icon-customers.png" alt="Customers Icon"><b>Customers</b>
		  </div>
		  <div class="menu-option" onclick="switchContent(4)">
			<img src="icon-checkout.png" alt="Checkout Setup Icon"><b>Checkout Setup</b>
		  </div>
		  <div class="menu-option" onclick="switchContent(5)">
			<img src="icon-support.png" alt="Support Icon"><b>Support</b>
		  </div>
		  <div class="menu-option" onclick="switchContent(6)">
			<img src="icon-settings.png" alt="Settings Icon"><b>Settings</b>
		  </div>
		</div>
	  </div>
	
	  <div class="content active">
		<h2>Home</h2>
		<table>
			<th style="width: 25%;"><b>July 2023 Forecast</b></th>
				<th style="width: 5%;"></th>
				<th style="width: 20%;">Quick Charge</th>
			<tr>
			  <td>
				<div id="calendar-container">
				<div id="calendar"></div>
			  </div></td>
			  <td><img src="sales-growth-datapine.png" alt="Sales Icon" style="width:300px"></td>
			  <td><div class="credit-card-form">
				<div class="form-group">
				  <label for="card-number">Card Number</label>
				  <input type="text" id="card-number" placeholder="1234 5678 9012 3456">
				</div>
				<div class="form-group">
				  <label for="card-holder">Card Holder</label>
				  <input type="text" id="card-holder" placeholder="John Doe">
				</div>
				<div class="form-group">
				  <label for="expiry-date">Expiry Date</label>
				  <input type="text" id="expiry-date" placeholder="MM/YY">
				</div>
				<div class="form-group">
				  <label for="cvv">CVV</label>
				  <input type="text" id="cvv" placeholder="123">
				</div>
				<button class="submit-btn">Submit</button>
			  </div>
			  </td>
			</tr>
		  </table>
		  
		
		<p>On <b>Friday July 21st</b>, there is a 96% chance of rain. Expect <b>low foot traffic</b>.<br>
		Last year on <b>Tuesday July 4th</b> (<i>Independence day</i>), sales saw a 23% increase.<br>
		Monthly sales have <b>doubled </b>since your first month in business. Great job! </p>
	  </div>
	  <div class="content hidden">
		<h2>Payments</h2>
		<p>Content for the Payment menu option</p>
	  </div>
	  <div class="content hidden">
		<div class="shadowbox1">
			<h2>Activity</h2>
			<p>Content for the Activity medkflsa;fjlkdsfjlksdflsdkjflsdjflsdjfklsdjflksdfjlksdjflsdfksflksflk;sjf;lksajkdflnu option</p>
		</div>
	  </div>
	  <div class="content hidden">
		<h2>Customers</h2>
		<p>Content for the Customers menu option</p>
	  </div>
	  <div class="content hidden">
		<h2>Checkout Setup</h2>
		<p>Content for the Checkout Setup menu option</p>
	  </div>
	  <div class="content hidden">
		<h2>Support</h2>
		<table style="width: 100%;">
		  <tr>
			<th style="width: 25%;">Contacting Us</th>
			<th style="width: 50%;">Help Resources</th>
			<th style="width: 25%;">Common Issues</th>
		  </tr>
		  <tr>
			
			<td>
				<div class="shadowbox2">
					Having an issue or have a question? We are here to help.
			  <br><br><b>(800)777-0987<br>support@deluxe.com<br>AI Chat</b></div></td>
			<td style="vertical-align: top; height: 100px;">
			<div class="shadowbox1">
			  <h3>User Guide</h3>
			  <p>Our step by step guide for using the Deluxe Payment Platform.
				Starts with how to take a payment using the Web Terminal and covers how to use the Deluxe forecasting features. <br><button type="submit" >Download User Guide</button></p>
				</div>
			</td>
			<td><h3>PCI Compliance</h3> Current Status: Compliant<p>Stay compliant to avoid paying a $XX.XX monthly fee.</p> Your next payment is due in <b>five</b> days.</td>
		  </tr>
		  <tr>
			<td>
			  <div class="card">
				<img src="img_avatar.png" alt="Avatar" style="width:50%">
				<div class="container" class="shadowbox2">
				  <h4><b>John Doe - Your Account Representative</b>
					<p>(555)123-456 or john@deluxe.com</p> <button type="submit" >AI Chat</button></h4>
				</div>
			  </div>
			</td>
			<td style="vertical-align: top; height: 100px;">
			<div = class="shadowbox1">
			  <h3>Help Resources Customer Forum & F.A.Q.</h3>
			  <p>Tap into the wisdom and experience of all our other customers. Or visit our page of frequently asked questions at <a href="url">dpplatform.faq.com</a></p>
			</div>
			</td>
		  </tr>
		</table>
	  </div>
	  <div class="content hidden">
		<h2>Settings</h2>
		<p>Content for the Settings menu option</p>
	  </div>
	
	  <script>
		function createCalendar() {
  const calendar = document.getElementById('calendar');
  const daysOfWeek = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];

  // Get the current date
  const currentDate = new Date();

  // Get the current month and year
  const currentMonth = currentDate.getMonth();
  const currentYear = currentDate.getFullYear();

  // Get the number of days in the current month
  const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();

  // Create the calendar grid
  for (let i = 0; i < daysOfWeek.length; i++) {
    const dayOfWeek = document.createElement('div');
    dayOfWeek.classList.add('day');
    dayOfWeek.textContent = daysOfWeek[i];
    calendar.appendChild(dayOfWeek);
  }

  // Calculate the start day of the month
  const startDay = new Date(currentYear, currentMonth, 1).getDay();

  // Create the calendar days
  for (let i = 1; i <= daysInMonth; i++) {
    const day = document.createElement('div');
    day.classList.add('day');
    day.innerHTML = `<div class="date">${i}</div><div class="event"></div>`;
    calendar.appendChild(day);
  }
}
createCalendar();

		function switchContent(menuIndex) {
		  var contentSections = document.getElementsByClassName('content');
		  for (var i = 0; i < contentSections.length; i++) {
			if (i === menuIndex) {
			  contentSections[i].classList.remove('hidden');
			} else {
			  contentSections[i].classList.add('hidden');
			}
		  }
		}
	  </script>


	<div id="tray">
		<div id="toggleButton" onclick="toggleTray()">Chat</div>
		<div id="conversation" style="display: none;"></div>
		<form id="chatform" onsubmit="return pushChat();" style="display: none;">
			<input type="text" id="wisdom" size="80" value="" placeholder="I need help with ...">
		</form>
	</div>

	<script type="text/javascript">
		var trayExpanded = true;

		function toggleTray() {
			trayExpanded = !trayExpanded;
			var conversation = document.getElementById('conversation');
			var chatform = document.getElementById('chatform');
			var toggleButton = document.getElementById('toggleButton');
			conversation.style.display = trayExpanded ? 'block' : 'none';
			chatform.style.display = trayExpanded ? 'block' : 'none';
			toggleButton.innerHTML = trayExpanded ? 'Chat' : 'Open Chat';
		}

		// set the focus to the input box
		document.getElementById("wisdom").focus();

		// Initialize the Amazon Cognito credentials provider
		AWS.config.region = 'us-east-1'; // Region
		AWS.config.credentials = new AWS.CognitoIdentityCredentials({
			// Provide your Pool Id here
			IdentityPoolId: 'us-east-1:02d332f7-a3fc-4ef9-b0eb-26a366d7abd8',
		});

		var lexruntime = new AWS.LexRuntime();
		var lexUserId = 'chatbot-demo' + Date.now();
		var sessionAttributes = {};

		function pushChat() {
			// if there is text to be sent...
			var wisdomText = document.getElementById('wisdom');
			if (wisdomText && wisdomText.value && wisdomText.value.trim().length > 0) {

				// disable input to show we're sending it
				var wisdom = wisdomText.value.trim();
				wisdomText.value = '...';
				wisdomText.locked = true;

				// send it to the Lex runtime
				var params = {
					botAlias: '$LATEST',
					botName: 'BookTrip',
					inputText: wisdom,
					userId: lexUserId,
					sessionAttributes: sessionAttributes
				};
				showRequest(wisdom);
				lexruntime.postText(params, function(err, data) {
					if (err) {
						console.log(err, err.stack);
						showError('Error: ' + err.message + ' (see console for details)');
					}
					if (data) {
						// capture the sessionAttributes for the next cycle
						sessionAttributes = data.sessionAttributes;
						// show response and/or error/dialog status
						showResponse(data);
					}
					// re-enable input
					wisdomText.value = '';
					wisdomText.locked = false;
				});
			}
			// we always cancel form submission
			return false;
		}

		function showRequest(daText) {
			var conversationDiv = document.getElementById('conversation');
			var requestPara = document.createElement("P");
			requestPara.className = 'userRequest';
			requestPara.appendChild(document.createTextNode(daText));
			conversationDiv.appendChild(requestPara);
			conversationDiv.scrollTop = conversationDiv.scrollHeight;
		}

		function showError(daText) {
			var conversationDiv = document.getElementById('conversation');
			var errorPara = document.createElement("P");
			errorPara.className = 'lexError';
			errorPara.appendChild(document.createTextNode(daText));
			conversationDiv.appendChild(errorPara);
			conversationDiv.scrollTop = conversationDiv.scrollHeight;
		}

		function showResponse(lexResponse) {
			var conversationDiv = document.getElementById('conversation');
			var responsePara = document.createElement("P");
			responsePara.className = 'lexResponse';
			if (lexResponse.message) {
				responsePara.appendChild(document.createTextNode(lexResponse.message));
				responsePara.appendChild(document.createElement('br'));
			}
			if (lexResponse.dialogState === 'ReadyForFulfillment') {
				responsePara.appendChild(document.createTextNode(
					'Ready for fulfillment'));
				// TODO:  show slot values
			} else {
				responsePara.appendChild(document.createTextNode(
					'(' + lexResponse.dialogState + ')'));
			}
			conversationDiv.appendChild(responsePara);
			conversationDiv.scrollTop = conversationDiv.scrollHeight;
		}
	</script>
</body>

</html>
